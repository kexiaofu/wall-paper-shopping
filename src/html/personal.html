<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>个人中心</title>
    <link rel="stylesheet" href="../css/common/base.css">
    <link rel="stylesheet" href="../css/common/toast.css">
    <link href="../css/common/iconfont.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/pages/personal.css">

</head>
<body>
<div class="nav-bar">
    <div class="left-part">
        <div class="logo">
            <a href="./index.html">
                <img src="../images/logo.png" alt="">
            </a>
        </div>
        <div class="func-item hover-blue">
            <a href="./product-list.html">商店</a>
        </div>
        <div class="func-item hover-blue">
            <a href="./product.html?productId=0" style="margin:0 5px;">开始定制</a>
        </div>
    </div>
    <div class="right-part">
        <div class="func-item search">
            <i class="iconfont icon-cx"></i>
            <!--<i class="fa fa-search"></i>-->
            <input type="text" class="search-input" placeholder="搜索百成墙纸网" style="display: none;">
            <span class="to-search" >搜索</span>
            <i class="iconfont icon-close" style="display: none;"></i>
        </div>
        <div class="func-item hover-blue to-login">登录</div>
        <div class="func-item account-container">
            <a href="./personal.html" class="func-item account">
                <img src="" alt="" class="account-icon">
                <span>未登录</span>

            </a>
            <ul class="logout">

                <li>
                    <a href="./my-order.html">我的订单</a>
                </li>
                <li onclick="logout()">注销登陆</li>

            </ul>
        </div>

        <div class="func-item hover-blue to-sign-up">注册</div>
        <div class="func-item show-shopping-car">
            <span class="shopping-quantity">0</span>
            <i class="iconfont icon-gouwuche shopping-car"></i>
            <div class="shopping-car-container"></div>
        </div>
    </div>
</div>

<div class="login">
    <div class="close-login-box">
        <i class="iconfont icon-close"></i>
    </div>
    <div class="title">
       Baicheng Digital
    </div>
    <div class="login-content">
        <div class="login-tab">
            <span class="login-account login-tab-active" onclick="changeLoginType('account')" data-op-type="account">密码登陆</span>
            <span class="login-phone" onclick="changeLoginType('phone')" data-op-type="phone">手机登陆</span>
            <span class="login-email" onclick="changeLoginType('email')" data-op-type="email">邮箱登陆</span>
        </div>
        <div class="login-container login-phone-container">
            <div class="login-input">
                <i class="iconfont icon-phone"></i>
                <input type="text" placeholder="请输入您的手机号码" id="phone" value="15622316910" style="width: 200px;">
                <span class="send-code-btn send-code-phone" onclick="sendCodeForLogin('phone',this,'login')" data-send-code="false">发送验证码</span>
            </div>
            <div class="login-input">
                <i class="iconfont icon-id-code"></i>
                <input type="text" placeholder="请输入验证码" id="phone-code" value="">
                <!-- <i class="iconfont icon-suo"></i>
                 <input type="password" placeholder="请输入您的密码" id="password" value="">-->
            </div>
        </div>
        <div class="login-container login-email-container">
            <div class="login-input">
                <i class="iconfont icon-email"></i>
                <input type="text" placeholder="请输入您的邮箱地址" id="email" value="864927512@qq.com" style="width: 200px;">
                <span class="send-code-btn send-code-email" onclick="sendCodeForLogin('email',this,'login')" data-send-code="false">发送验证码</span>
            </div>
            <div class="login-input">
                <i class="iconfont icon-id-code"></i>
                <input type="text" placeholder="请输入验证码" id="email-code" value="">
                <!--<input type="password" placeholder="请输入您的密码" id="password" value="">-->
            </div>
        </div>
        <div class="login-container login-account-container" style="display: block;">
            <div class="login-input">
                <i class="iconfont icon-wode"></i>
                <input type="text" placeholder="请输入您的手机号/邮箱/账号" id="account" value="">
            </div>
            <div class="login-input">
                <i class="iconfont icon-suo"></i>
                <input type="password" placeholder="请输入您的密码" id="password" value="">
            </div>
        </div>

        <div class="submit">登录</div>
        <a href="#" class="show-forget-box">忘记密码</a>
        <p>我没有账户</p>
        <div class="sign-up">注册</div>
    </div>

</div>

<div class="login sign-up-box">
    <div class="close-login-box close-sign-up-box">
        <i class="iconfont icon-close "></i>
    </div>
    <div class="title">
        Baicheng Digital
    </div>
    <div class="login-content">
        <div class="login-tab">
            <span class="sign-up-phone sign-up-tab-active" onclick="changeSignUpTab('phone')" data-op-type="phone">手机注册</span>
            <span class="sign-up-email" onclick="changeSignUpTab('email')" data-op-type="email">邮箱注册</span>
        </div>
        <div class="login-container sign-up-phone-container" style="display: block;">
            <div class="login-input">
                <i class="iconfont icon-phone"></i>
                <input type="text" placeholder="请输入您的手机号码" id="sign-up-phone" value="" style="width: 200px;">
                <span class="send-code-btn send-code-phone" onclick="sendCodeForLogin('phone',this,'signUp')" data-send-code="false">发送验证码</span>
            </div>
            <div class="login-input">
                <i class="iconfont icon-id-code"></i>
                <input type="text" placeholder="请输入验证码" id="sign-up-phone-code" value="">
            </div>
            <div class="login-input">
                <i class="iconfont icon-suo"></i>
                <input type="password" placeholder="请输入您的密码" id="phone-password" value="">
            </div>
        </div>
        <div class="login-container sign-up-email-container">
            <div class="login-input">
                <i class="iconfont icon-email"></i>
                <input type="text" placeholder="请输入您的邮箱地址" id="sign-up-email" value="" style="width: 200px;">
                <span class="send-code-btn send-code-email" onclick="sendCodeForLogin('email',this,'signUp')" data-send-code="false">发送验证码</span>
            </div>
            <div class="login-input">
                <i class="iconfont icon-id-code"></i>
                <input type="text" placeholder="请输入验证码" id="sign-up-email-code" value="">
            </div>
            <div class="login-input">
                <i class="iconfont icon-suo"></i>
                <input type="password" placeholder="请输入您的密码" id="email-password" value="">
            </div>
        </div>

        <div class="sign-up" onclick="register()">注册</div>
    </div>

    <div class="sign-up-content">

    </div>

</div>

<div class="login forget-password-box">
    <div class="close-login-box close-forget-password-box">
        <i class="iconfont icon-close "></i>
    </div>
    <div class="title">
        Baicheng Digital
    </div>
    <div class="login-content">
        <div class="login-tab">
            <span class="forget-password-phone forget-password-tab-active" onclick="changeForgetPasswordTab('phone')" data-op-type="phone">手机验证</span>
            <span class="forget-password-email" onclick="changeForgetPasswordTab('email')" data-op-type="email">邮箱验证</span>
        </div>
        <div class="login-container forget-password-phone-container" style="display: block;">
            <div class="login-input">
                <i class="iconfont icon-phone"></i>
                <input type="text" placeholder="请输入您的手机号码" id="forget-password-phone" value="15622316910" style="width: 200px;">
                <span class="send-code-btn send-code-phone" onclick="sendCodeForLogin('phone',this,'forgetPassword')" data-send-code="false">发送验证码</span>
            </div>
            <div class="login-input">
                <i class="iconfont icon-id-code"></i>
                <input type="text" placeholder="请输入验证码" id="forget-password-phone-code" value="">
            </div>
            <div class="login-input">
                <i class="iconfont icon-suo"></i>
                <input type="password" placeholder="请输入您的密码" id="f-phone-password" value="">
            </div>
        </div>
        <div class="login-container forget-password-email-container">
            <div class="login-input">
                <i class="iconfont icon-email"></i>
                <input type="text" placeholder="请输入您的邮箱地址" id="forget-password-email" value="864927512@qq.com" style="width: 200px;">
                <span class="send-code-btn send-code-email" onclick="sendCodeForLogin('email',this,'forgetPassword')" data-send-code="false">发送验证码</span>
            </div>
            <div class="login-input">
                <i class="iconfont icon-id-code"></i>
                <input type="text" placeholder="请输入验证码" id="forget-password-email-code" value="">
            </div>
            <div class="login-input">
                <i class="iconfont icon-suo"></i>
                <input type="password" placeholder="请输入您的密码" id="f-email-password" value="">
            </div>
        </div>

        <div class="submit forget-password" onclick="toResetPassword()">重置密码</div>
    </div>

</div>

<script id="shopping-car-container" type="text/html">
    {{ if data.data.length === 0 }}
    <div class="shopping-list-no">
        您的购物车空空如也
    </div>
    {{ else if data.data.length > 0}}
    <div class="shopping-list">
        {{ each data.data item i }}
        <a href={{ "./product.html?productId=" + item.productId }} target="_blank" class="shopping-item">
            <div class="item-pic">
                <img src={{ item.introductImage }} alt="">
            </div>
            <div class="item-info">
                <div class="item-base-info">
                    <div class="item-name">{{ item.productName }}</div>
                    <div class="item-price">￥{{ item.money }}</div>
                </div>
                <div class="item-intro-info">
                    {{ item.description }}
                </div>
            </div>
        </a>
        {{/each}}
    </div>
    {{ if data.quantity > 0 }}
    <p class="more-product-quantity">您还有{{ data.quantity }}件商品在购物车</p>
    {{ /if }}
    {{/if}}
    <a href="./shopping-cart.html" class="to-my-shopping-car-btn">
        查看我的购物车
    </a>
</script>

<script src="../js/app/head.js"></script>

<div id="personal" class="personal container">
    <div class="view-image">
        <img src="../images/1.jpg" alt="">
    </div>
    <div class="account-name-container">
        <div class="account-name">
            <img src="../images/1.jpg" alt="" class="account-personal-icon">
            <span class="account-nick-name"></span>
        </div>
    </div>
    <div class="account-op-container">
        <div class="op-title">
            <ul>
                <li class="personal-info op-active" onclick="showContent('personal-info')">
                    <a href="./personal.html#personal-info">个人信息</a>
                </li>
                <li>
                    <a href="./my-order.html">我的订单</a>
                </li>
                <li class="update-password" onclick="showContent('update-password')">
                    <a href="./personal.html#update-password">修改密码</a>
                </li>
                <li class="address" onclick="showContent('address')">
                    <a href="./personal.html#address">我的地址</a>
                </li>
                <li class="personal-icon"  onclick="showContent('personal-icon')">
                    <a href="./personal.html#personal-icon">更换头像</a>
                </li>
                <li class="binding-info"  onclick="showContent('binding-info')">
                    <a href="./personal.html#binding-info">绑定信息</a>
                </li>
            </ul>
        </div>
        <div class="op-content"></div>
    </div>
    <!--<div class="info-box addr-info"></div>-->
</div>
</div>


<div class="my-modal"></div>

<div class="footer">
    <div class="left-part">
        <div class="feedback">
            <span>意见反馈</span>
            <span>aaa@deepmind.cn</span>
        </div>
        <div class="copy-right">
            &copy;2015 baicheng.com 版权所有 浙ICP备xxxxxxx号
        </div>
    </div>
    <div class="right-part">
        <div class="web-info">
            <span>
                <a href="#">关于百成</a>
            </span>
            <span>
                <a href="#">联系我们</a>
            </span>
        </div>
    </div>
</div>

<script id="binding-info" type="text/html">
  <div class="op-box">
      <div class="op-head">绑定信息</div>
      <div class="op-info">
          <div class="op-item">
              <span>邮箱</span>

              {{ if data.email === "" || data.email === null }}
                <input type="text" class="email" value="" >
                <span class="send-code-btn send-code-btn-email" data-op-type="email" onclick="sendCode('email')">发送验证码</span>
              {{ else }}
                <input type="text" disabled value={{ data.email }} >
              {{ /if }}
          </div>
          {{ if data.email === "" || data.email === null }}
          <div class="op-item">
              <span>验证码</span>
              <input type="text" placeholder="输入验证码" class="email-code" value="">
              <span class="send-code-btn" onclick="bindingInfo('email')">绑定邮箱</span>
          </div>
          {{ /if }}
          <div class="op-item">
              <span>手机</span>
              {{ if data.phone === "" || data.phone === null }}
              <input type="text" class="phone" value={{ data.phone }}>
              <span class="send-code-btn send-code-btn-phone" data-op-type="email" onclick="sendCode('phone')">发送验证码</span>
              {{ else }}
              <input type="text" disabled value={{ data.phone }} >
              {{ /if }}
          </div>

          {{ if data.phone === "" || data.phone === null }}
          <div class="op-item">
              <span>验证码</span>
              <input type="text" placeholder="输入验证码" class="phone-code">
              <span class="send-code-btn" onclick="bindingInfo('phone')">绑定手机</span>
          </div>
          {{ /if }}
      </div>
  </div>
</script>

<script id="personal-info" type="text/html">
    <div class="op-box">
        <div class="op-head">个人信息</div>
        <div class="op-info">
            <div class="op-item">
                <span>登录账号</span>
                <input type="text" placeholder="登录账号" disabled value={{ data.account }}>
            </div>
            <div class="op-item">
                <span>昵称</span>
                <input type="text" placeholder="昵称" value={{ data.nickName }} class="nick-name">
            </div>
            <div class="op-item">
                <span>性别</span>
                {{ if data.sex === 0 }}
                <label for="sex-0">
                    <input type="radio" class="sex-radio" name="sex" value="0" id="sex-0" checked>女
                </label>
                <label for="sex-1">
                    <input type="radio" class="sex-radio" name="sex" value="1" id="sex-1">男
                </label>
                {{ else }}
                <label for="sex-0">
                    <input type="radio" class="sex-radio" name="sex" value="0" id="sex-0">女
                </label>
                <label for="sex-1">
                    <input type="radio" class="sex-radio" name="sex" value="1" id="sex-1" checked>男
                </label>
                {{ /if }}
            </div>
            <div class="op-item">
                <span>生日</span>
                <input type="date" placeholder="生日" value={{ data.birthday | formDate }} class="birthday">
            </div>
            <div class="op-item">
                <span>居住地</span>
                <div class="addr-select-container"></div>
            </div>
            <div class="op-item">
                <span>手机</span>
                {{ if data.phone !== null && data.phone !== ""  }}
                <span>{{ data.phone }}</span>
                {{ else }}
                <a href="./personal.html#binding-info">绑定手机</a>
                {{ /if }}
            </div>
            <div class="op-item">
                <span>邮箱</span>
                {{ if data.email !== null && data.email !== "" }}
                <span>{{ data.email }}</span>
                {{ else }}
                <span>
                    <a href="./personal.html#binding-info">绑定邮箱</a>
                </span>
                {{ /if }}
            </div>
            <div class="op-item">
                <span>简介</span>
                <textarea name="introduction" id="introduction">{{ data.introduction }}</textarea>
            </div>
        </div>
    </div>
    <div class="submit-btn" onclick="toSavePersonalInfo()">保存</div>
</script>

<script id="update-password-container" type="text/html">
  <div class="op-box">
    <div class="op-head">修改密码</div>
    <div class="op-info">
        <div class="op-item">
            <span>旧密码</span>
            <span>
                <input type="password" class="old-password" value="" placeholder="请输入旧密码">
            </span>
        </div>
        <div class="op-item">
            <span>新密码</span>
            <span>
                <input type="password" class="new-password" value="" placeholder="请输入新密码">
            </span>
        </div>
        <div class="op-item">
            <span>确认新密码</span>
            <span>
                <input type="password" class="new-password-again" value="" placeholder="请重复新密码">
            </span>
        </div>
    </div>
  </div>
    <div class="submit-btn" onclick="toSaveNewPasswork()">保存</div>
</script>

<script id="update-personal-icon" type="text/html">
    <div class="op-box">
        <div class="op-head">更换头像</div>
        <div class="op-info">
            <div class="op-item">
                <img src={{ data.icon }} alt="" class="avatar" onclick="toUploadAvatar()">
            </div>
            <p style="text-align: center;font-size: 14px;color:#999;">点击头像，进行更换</p>
        </div>
    </div>
</script>

<script id="addr-select-container" type="text/html">

    <div class="addr-select province">
        <input type="text"  readonly onfocus="toShowContainer(0)"
               onblur="toHideContainer(0)" value={{ data.province }}>
        <div class="addr-container addr-province">
           <ul>
            {{ each data.provinceList p _p }}
                <li onmousedown="selectThisArea(0,this)" data-op-source={{ source }}>{{ p }}</li>
            {{ /each }}
           </ul>
        </div>
    </div>
    <div class="addr-select city">
        <input type="text" readonly onfocus="toShowContainer(1)" onblur="toHideContainer(1)" value={{ data.city }}>
        <div class="addr-container addr-city">
           <ul>
            {{ each data.cities p _p }}
                <li onmousedown="selectThisArea(1,this)" data-op-source={{ source }}>{{ p.name }}</li>
            {{ /each }}
           </ul>
        </div>
    </div>
    <div class="addr-select district">
        <input type="text" readonly onfocus="toShowContainer(2)" onblur="toHideContainer(2)" value={{ data.district }}>
        <div class="addr-container addr-district">
           <ul>
            {{ each data.districts p _p }}
                <li onmousedown="selectThisArea(2,this)" data-op-source={{ source }}>{{ p.name }}</li>
            {{ /each }}
           </ul>
        </div>
    </div>
</script>

<script id="addr-info" type="text/html">

    <div class="op-box">
        <div class="op-head">我的地址</div>
        <div class="op-info">

            <div class="content">
                {{ if data.length > 0 }}
                {{ each data addr i }}
                <div class="content-item">
                    <div class="base-info">
                <span class="base-info-item">
                    {{ addr.linkMan }}
                </span>
                        <span class="base-info-item">
                   {{ addr.telephone }}
                </span>
                        <span class="base-info-item">
                {{ addr.zipCode }}
                </span>
                        <span class="operate">
                    <i class="iconfont icon-edit" onclick="updateAddress(this)" data-op-index={{ i }}></i>
                    <i class="iconfont icon-delete" onclick="toDeleteAddress(this)" data-op-id={{ addr.id }}
                       data-op-index={{ i }}></i>
                </span>

                        {{ if i === 0 }}
                        <span class="default fr">[默认]</span>
                        {{ else if i > 0}}
                        <span class="fr" onclick="toSetDefaultAddress(this)" data-op-id={{ addr.id }} data-op-index={{ i }}>[设为默认]</span>
                        {{ /if }}

                    </div>
                    <div class="base-content">
                        <i class="iconfont icon-address"></i>
                        {{ addr.address }}
                    </div>
                </div>
                {{ /each }}
                {{ else if data.length === 0}}
                <p class="empty-tips">暂无地址，请新增地址</p>
                {{ /if }}
            </div>

        </div>
    </div>
    <div class="submit-btn" onclick="updateAddress(this)">新增地址</div>

</script>

<script id="update-address" type="text/html">
    <div class="my-modal-title">
        {{ title }}
        <i class="iconfont icon-close" onclick="toCloseUpdateAddrBox()"></i>
    </div>
    <div class="my-modal-content">
        <div class="modal-item">
            <div class="item-title">*联系人</div>
            <div class="item-content">
                <input type="text"  class="link-man" value={{ data.linkMan }}>
            </div>
        </div>
        <div class="modal-item">
            <div class="item-title">*联系号码</div>
            <div class="item-content">
                <input type="text"  class="phone" value={{ data.telephone }}>
            </div>
        </div>
        <div class="modal-item">
            <div class="item-title">邮编</div>
            <div class="item-content">
                <input type="text"  class="zip-code" value={{ data.zipCode }}>
            </div>
        </div>
        <div class="modal-item">
            <div class="item-title">选择地址</div>
            <div class="addr-select-container"></div>
        </div>
        <div class="modal-item">
            <div class="item-title">详细地址</div>
            <div class="item-content">
                <input type="text" class="address-detail" value={{ data.address }}>
            </div>
        </div>
    </div>
    <div class="submit-btn" onclick="toSaveAddress(this)" style="right: 20px;" data-op-id={{ data.id }}>保存</div>
</script>

<script src="../js/app/personal.js"></script>
</body>
</html>